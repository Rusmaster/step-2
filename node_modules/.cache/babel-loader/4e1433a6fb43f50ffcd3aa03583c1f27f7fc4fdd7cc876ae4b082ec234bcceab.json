{"ast":null,"code":"var _jsxFileName = \"C:\\\\YandexPracticum\\\\step-2 \\u2014 \\u043A\\u043E\\u043F\\u0438\\u044F (3) \\u2014 \\u043A\\u043E\\u043F\\u0438\\u044F\\\\src\\\\components\\\\Burger\\\\BurgerConstructor\\\\DraggableIngredient.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useDrop, useDrag } from \"react-dnd\";\nimport styles from \"./styles.module.css\";\nimport { ConstructorElement, DragIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ItemType = \"ingredient\";\n\n// DraggableIngredient Component\nconst DraggableIngredient = ({\n  ingredient,\n  index,\n  moveIngredient,\n  removeIngredient\n}) => {\n  _s();\n  const [{\n    isDragging\n  }, dragRef] = useDrag({\n    type: ItemType,\n    item: {\n      index\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n  const [, dropRef] = useDrop({\n    accept: ItemType,\n    hover: item => {\n      if (item.index !== index) {\n        moveIngredient(item.index, index);\n        item.index = index;\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: node => dragRef(dropRef(node)),\n      className: `${styles.ingredientItem} ${isDragging ? styles.dragging : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.dragHandle,\n        children: /*#__PURE__*/_jsxDEV(DragIcon, {\n          type: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConstructorElement, {\n        text: ingredient.name,\n        price: ingredient.price,\n        thumbnail: ingredient.image,\n        handleClose: () => removeIngredient(index)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(DraggableIngredient, \"A6xuypmiv/+ELrOyNEhjNxbsJGs=\", false, function () {\n  return [useDrag, useDrop];\n});\n_c = DraggableIngredient;\nexport default DraggableIngredient;\nvar _c;\n$RefreshReg$(_c, \"DraggableIngredient\");","map":{"version":3,"names":["React","useDrop","useDrag","styles","ConstructorElement","DragIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","ItemType","DraggableIngredient","ingredient","index","moveIngredient","removeIngredient","_s","isDragging","dragRef","type","item","collect","monitor","dropRef","accept","hover","children","ref","node","className","ingredientItem","dragging","dragHandle","fileName","_jsxFileName","lineNumber","columnNumber","text","name","price","thumbnail","image","handleClose","_c","$RefreshReg$"],"sources":["C:/YandexPracticum/step-2 — копия (3) — копия/src/components/Burger/BurgerConstructor/DraggableIngredient.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useDrop, useDrag } from \"react-dnd\";\r\nimport { Product } from \"../../../types/Product\";\r\nimport styles from \"./styles.module.css\";\r\nimport {\r\n  ConstructorElement,\r\n  DragIcon,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\nconst ItemType = \"ingredient\";\r\n\r\n// DraggableIngredient Component\r\nconst DraggableIngredient: React.FC<{\r\n  ingredient: Product;\r\n  index: number;\r\n  moveIngredient: (dragIndex: number, hoverIndex: number) => void;\r\n  removeIngredient: (index: number) => void;\r\n}> = ({ ingredient, index, moveIngredient, removeIngredient }) => {\r\n  const [{ isDragging }, dragRef] = useDrag({\r\n    type: ItemType,\r\n    item: { index },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  const [, dropRef] = useDrop({\r\n    accept: ItemType,\r\n    hover: (item: { index: number }) => {\r\n      if (item.index !== index) {\r\n        moveIngredient(item.index, index);\r\n        item.index = index;\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        ref={(node) => dragRef(dropRef(node))}\r\n        className={`${styles.ingredientItem} ${\r\n          isDragging ? styles.dragging : \"\"\r\n        }`}\r\n      >\r\n        <span className={styles.dragHandle}>\r\n          <DragIcon type=\"primary\" />\r\n        </span>\r\n        <ConstructorElement\r\n          text={ingredient.name}\r\n          price={ingredient.price}\r\n          thumbnail={ingredient.image}\r\n          handleClose={() => removeIngredient(index)}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default DraggableIngredient;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,EAAEC,OAAO,QAAQ,WAAW;AAE5C,OAAOC,MAAM,MAAM,qBAAqB;AACxC,SACEC,kBAAkB,EAClBC,QAAQ,QACH,oDAAoD;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE5D,MAAMC,QAAQ,GAAG,YAAY;;AAE7B;AACA,MAAMC,mBAKJ,GAAGA,CAAC;EAAEC,UAAU;EAAEC,KAAK;EAAEC,cAAc;EAAEC;AAAiB,CAAC,KAAK;EAAAC,EAAA;EAChE,MAAM,CAAC;IAAEC;EAAW,CAAC,EAAEC,OAAO,CAAC,GAAGhB,OAAO,CAAC;IACxCiB,IAAI,EAAET,QAAQ;IACdU,IAAI,EAAE;MAAEP;IAAM,CAAC;IACfQ,OAAO,EAAGC,OAAO,KAAM;MACrBL,UAAU,EAAEK,OAAO,CAACL,UAAU,CAAC;IACjC,CAAC;EACH,CAAC,CAAC;EAEF,MAAM,GAAGM,OAAO,CAAC,GAAGtB,OAAO,CAAC;IAC1BuB,MAAM,EAAEd,QAAQ;IAChBe,KAAK,EAAGL,IAAuB,IAAK;MAClC,IAAIA,IAAI,CAACP,KAAK,KAAKA,KAAK,EAAE;QACxBC,cAAc,CAACM,IAAI,CAACP,KAAK,EAAEA,KAAK,CAAC;QACjCO,IAAI,CAACP,KAAK,GAAGA,KAAK;MACpB;IACF;EACF,CAAC,CAAC;EAEF,oBACEN,OAAA,CAAAE,SAAA;IAAAiB,QAAA,eACEnB,OAAA;MACEoB,GAAG,EAAGC,IAAI,IAAKV,OAAO,CAACK,OAAO,CAACK,IAAI,CAAC,CAAE;MACtCC,SAAS,EAAE,GAAG1B,MAAM,CAAC2B,cAAc,IACjCb,UAAU,GAAGd,MAAM,CAAC4B,QAAQ,GAAG,EAAE,EAChC;MAAAL,QAAA,gBAEHnB,OAAA;QAAMsB,SAAS,EAAE1B,MAAM,CAAC6B,UAAW;QAAAN,QAAA,eACjCnB,OAAA,CAACF,QAAQ;UAACc,IAAI,EAAC;QAAS;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvB,CAAC,eACP7B,OAAA,CAACH,kBAAkB;QACjBiC,IAAI,EAAEzB,UAAU,CAAC0B,IAAK;QACtBC,KAAK,EAAE3B,UAAU,CAAC2B,KAAM;QACxBC,SAAS,EAAE5B,UAAU,CAAC6B,KAAM;QAC5BC,WAAW,EAAEA,CAAA,KAAM3B,gBAAgB,CAACF,KAAK;MAAE;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;EAAC,gBACN,CAAC;AAEP,CAAC;AAACpB,EAAA,CA5CIL,mBAKJ;EAAA,QACkCT,OAAO,EAQrBD,OAAO;AAAA;AAAA0C,EAAA,GAdvBhC,mBAKJ;AAwCF,eAAeA,mBAAmB;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\n// Функция сортировки с типизацией\nconst sortProducts = products => {\n  const order = [\"bun\", \"sauce\", \"main\"];\n  return products.slice().sort((a, b) => order.indexOf(a.type) - order.indexOf(b.type));\n};\nconst useFetchProducts = () => {\n  _s();\n  const [state, setState] = useState({\n    isLoading: false,\n    hasError: false,\n    data: []\n  });\n  useEffect(() => {\n    const fetchProducts = () => {\n      setState({\n        isLoading: true,\n        hasError: false,\n        data: []\n      });\n      fetch(\"https://norma.nomoreparties.space/api/ingredients\").then(res => res.json()).then(data => setState({\n        isLoading: false,\n        hasError: false,\n        data: sortProducts(data.data)\n      })).catch(() => setState({\n        isLoading: false,\n        hasError: true,\n        data: []\n      }));\n    };\n    fetchProducts();\n  }, []);\n  return state;\n};\n_s(useFetchProducts, \"63M+cQnmY000HLeJ6805Hc07nSc=\");\nexport default useFetchProducts;","map":{"version":3,"names":["useState","useEffect","sortProducts","products","order","slice","sort","a","b","indexOf","type","useFetchProducts","_s","state","setState","isLoading","hasError","data","fetchProducts","fetch","then","res","json","catch"],"sources":["C:/YandexPracticum/step-2-redux/src/components/BurgerContent/BurgerIngredients/useFetchProducts.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Product } from \"./types\";\r\n\r\n// Функция сортировки с типизацией\r\nconst sortProducts = (products: Product[]): Product[] => {\r\n  const order = [\"bun\", \"sauce\", \"main\"];\r\n  return products\r\n    .slice()\r\n    .sort((a, b) => order.indexOf(a.type) - order.indexOf(b.type));\r\n};\r\n\r\nconst useFetchProducts = () => {\r\n  const [state, setState] = useState<{\r\n    isLoading: boolean;\r\n    hasError: boolean;\r\n    data: Product[];\r\n  }>({\r\n    isLoading: false,\r\n    hasError: false,\r\n    data: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = () => {\r\n      setState({ isLoading: true, hasError: false, data: [] });\r\n      fetch(\"https://norma.nomoreparties.space/api/ingredients\")\r\n        .then((res) => res.json())\r\n        .then((data) =>\r\n          setState({\r\n            isLoading: false,\r\n            hasError: false,\r\n            data: sortProducts(data.data),\r\n          })\r\n        )\r\n        .catch(() => setState({ isLoading: false, hasError: true, data: [] }));\r\n    };\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n\r\nexport default useFetchProducts;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAG3C;AACA,MAAMC,YAAY,GAAIC,QAAmB,IAAgB;EACvD,MAAMC,KAAK,GAAG,CAAC,KAAK,EAAE,OAAO,EAAE,MAAM,CAAC;EACtC,OAAOD,QAAQ,CACZE,KAAK,CAAC,CAAC,CACPC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKJ,KAAK,CAACK,OAAO,CAACF,CAAC,CAACG,IAAI,CAAC,GAAGN,KAAK,CAACK,OAAO,CAACD,CAAC,CAACE,IAAI,CAAC,CAAC;AAClE,CAAC;AAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAI/B;IACDe,SAAS,EAAE,KAAK;IAChBC,QAAQ,EAAE,KAAK;IACfC,IAAI,EAAE;EACR,CAAC,CAAC;EAEFhB,SAAS,CAAC,MAAM;IACd,MAAMiB,aAAa,GAAGA,CAAA,KAAM;MAC1BJ,QAAQ,CAAC;QAAEC,SAAS,EAAE,IAAI;QAAEC,QAAQ,EAAE,KAAK;QAAEC,IAAI,EAAE;MAAG,CAAC,CAAC;MACxDE,KAAK,CAAC,mDAAmD,CAAC,CACvDC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEH,IAAI,IACTH,QAAQ,CAAC;QACPC,SAAS,EAAE,KAAK;QAChBC,QAAQ,EAAE,KAAK;QACfC,IAAI,EAAEf,YAAY,CAACe,IAAI,CAACA,IAAI;MAC9B,CAAC,CACH,CAAC,CACAM,KAAK,CAAC,MAAMT,QAAQ,CAAC;QAAEC,SAAS,EAAE,KAAK;QAAEC,QAAQ,EAAE,IAAI;QAAEC,IAAI,EAAE;MAAG,CAAC,CAAC,CAAC;IAC1E,CAAC;IACDC,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOL,KAAK;AACd,CAAC;AAACD,EAAA,CA7BID,gBAAgB;AA+BtB,eAAeA,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
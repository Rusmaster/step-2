{"ast":null,"code":"var _jsxFileName = \"C:\\\\YandexPracticum\\\\step-2 \\u2014 \\u043A\\u043E\\u043F\\u0438\\u044F (3) \\u2014 \\u043A\\u043E\\u043F\\u0438\\u044F\\\\src\\\\components\\\\Burger\\\\BurgerConstructor\\\\BurgerConstructor.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n//import { v4 as uuidv4 } from \"uuid\";\nimport { useDrop } from \"react-dnd\";\nimport styles from \"./styles.module.css\";\nimport DraggableIngredient from \"./DraggableIngredient\";\nimport { ConstructorElement, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport TotalPrice from \"./TotalPrice\";\nimport ModalWindow from \"../../../ui/ModalWindow/ModalWindow\";\nimport OrderDetails from \"./OrderDeatails\";\nimport { submitOrder } from \"../../../services/actions/orderActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItemType = \"ingredient\";\nconst BurgerConstructor = ({\n  ingredients,\n  setIngredients,\n  bun,\n  setBun\n}) => {\n  _s();\n  const [totalPrice, setTotalPrice] = useState(0);\n  const dispatch = useDispatch();\n  const orderId = useSelector(state => state.order.orderId);\n  const orderLoading = useSelector(state => state.order.loading);\n  const orderError = useSelector(state => state.order.error);\n  const [{\n    isOver\n  }, dropRef] = useDrop({\n    accept: ItemType,\n    drop: item => {\n      if (item && item.data) {\n        addIngredientToConstructor(item.data);\n      }\n    },\n    collect: monitor => ({\n      isOver: monitor.isOver()\n    })\n  });\n  const addIngredientToConstructor = ingredient => {\n    if (ingredient.type === \"bun\") {\n      setBun(ingredient);\n    } else {\n      setIngredients(prevIngredients => [...prevIngredients, ingredient]);\n    }\n  };\n  const moveIngredient = (dragIndex, hoverIndex) => {\n    if (dragIndex === undefined || hoverIndex === undefined || dragIndex === hoverIndex) return;\n    const draggedIngredient = ingredients[dragIndex];\n    if (!draggedIngredient) return;\n    const newIngredients = [...ingredients];\n    newIngredients.splice(dragIndex, 1);\n    newIngredients.splice(hoverIndex, 0, draggedIngredient);\n    setIngredients(newIngredients);\n  };\n  const removeIngredient = index => {\n    setIngredients(prevIngredients => prevIngredients.filter((_, i) => i !== index));\n  };\n  useEffect(() => {\n    let total = ingredients.reduce((sum, ingredient) => sum + ingredient.price, 0);\n    if (bun) {\n      total += bun.price * 2; // Учитываем верхнюю и нижнюю булку\n    }\n    setTotalPrice(total);\n  }, [ingredients, bun]);\n\n  //Генератор id заказа\n  const generateOrderId = () => {\n    return Math.floor(1000 + Math.random() * 9000).toString();\n  };\n\n  //Модальное окно\n  const [isModalActive, setIsModalActive] = useState(false);\n  const handleOrderClick = () => {\n    if (bun && ingredients.length > 0) {\n      const ingredientIds = [bun._id, ...ingredients.map(ingredient => ingredient._id), bun._id];\n      dispatch(submitOrder({\n        ingredients: ingredientIds\n      }));\n      setIsModalActive(true);\n    }\n  };\n  // Использование useEffect для открытия модального окна после получения orderId\n  useEffect(() => {\n    if (orderId) {\n      setIsModalActive(true);\n      console.log(\"Order ID received: \", orderId);\n    }\n  }, [orderId]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: styles.constructorBox,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: dropRef,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text text_type_main-medium mb-5\",\n        children: \"\\u0412\\u0430\\u0448 \\u0431\\u0443\\u0440\\u0433\\u0435\\u0440\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.burgerWrapper,\n        children: [bun ? /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"top\",\n          isLocked: true,\n          text: `${bun.name} (верх)`,\n          price: bun.price,\n          thumbnail: bun.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"top\",\n          isLocked: true,\n          text: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0431\\u0443\\u043B\\u043A\\u0443\",\n          price: 0,\n          thumbnail: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.middleSection,\n          children: ingredients.length > 0 ? ingredients.map((ingredient, index) => /*#__PURE__*/_jsxDEV(DraggableIngredient, {\n            ingredient: ingredient,\n            index: index,\n            moveIngredient: moveIngredient,\n            removeIngredient: removeIngredient\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(ConstructorElement, {\n            text: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0438\\u043D\\u0433\\u0440\\u0435\\u0434\\u0438\\u0435\\u043D\\u0442\",\n            price: 0,\n            thumbnail: \"\",\n            isLocked: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), bun ? /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"bottom\",\n          isLocked: true,\n          text: `${bun.name} (низ)`,\n          price: bun.price,\n          thumbnail: bun.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"bottom\",\n          isLocked: true,\n          text: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0431\\u0443\\u043B\\u043A\\u0443\",\n          price: 0,\n          thumbnail: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalWindow, {\n        active: isModalActive,\n        setActive: setIsModalActive,\n        children: /*#__PURE__*/_jsxDEV(OrderDetails, {\n          orderId: orderId,\n          totalPrice: totalPrice\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `ml-1 mr-1 mb-1 mt-9 ${styles.boxForButton}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.footerOrder,\n          children: [/*#__PURE__*/_jsxDEV(TotalPrice, {\n            total: totalPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            htmlType: \"button\",\n            type: \"primary\",\n            size: \"large\",\n            extraClass: \"ml-2\",\n            onClick: handleOrderClick,\n            disabled: !bun || ingredients.length === 0 || orderLoading // Условие для отключения кнопки\n            ,\n            children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), orderError && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.error,\n            children: [\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \", orderError]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n_s(BurgerConstructor, \"/PVgEGfzDmKEDt40zL6cPJUy6bk=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useDrop];\n});\n_c = BurgerConstructor;\nexport default BurgerConstructor;\nvar _c;\n$RefreshReg$(_c, \"BurgerConstructor\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useDrop","styles","DraggableIngredient","ConstructorElement","Button","TotalPrice","ModalWindow","OrderDetails","submitOrder","jsxDEV","_jsxDEV","ItemType","BurgerConstructor","ingredients","setIngredients","bun","setBun","_s","totalPrice","setTotalPrice","dispatch","orderId","state","order","orderLoading","loading","orderError","error","isOver","dropRef","accept","drop","item","data","addIngredientToConstructor","collect","monitor","ingredient","type","prevIngredients","moveIngredient","dragIndex","hoverIndex","undefined","draggedIngredient","newIngredients","splice","removeIngredient","index","filter","_","i","total","reduce","sum","price","generateOrderId","Math","floor","random","toString","isModalActive","setIsModalActive","handleOrderClick","length","ingredientIds","_id","map","console","log","className","constructorBox","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","burgerWrapper","isLocked","text","name","thumbnail","image","middleSection","active","setActive","boxForButton","footerOrder","htmlType","size","extraClass","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/YandexPracticum/step-2 — копия (3) — копия/src/components/Burger/BurgerConstructor/BurgerConstructor.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n//import { v4 as uuidv4 } from \"uuid\";\r\nimport { useDrop } from \"react-dnd\";\r\nimport { Product } from \"../../../types/Product\";\r\nimport styles from \"./styles.module.css\";\r\nimport DraggableIngredient from \"./DraggableIngredient\";\r\nimport {\r\n  ConstructorElement,\r\n  Button,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport TotalPrice from \"./TotalPrice\";\r\nimport ModalWindow from \"../../../ui/ModalWindow/ModalWindow\";\r\nimport OrderDetails from \"./OrderDeatails\";\r\nimport { submitOrder } from \"../../../services/actions/orderActions\";\r\nimport { RootState, AppDispatch } from \"../../../services/store\";\r\n\r\nconst ItemType = \"ingredient\";\r\n\r\ninterface BurgerConstructorProps {\r\n  ingredients: Product[];\r\n  setIngredients: React.Dispatch<React.SetStateAction<Product[]>>;\r\n  bun: Product | null;\r\n  setBun: React.Dispatch<React.SetStateAction<Product | null>>;\r\n}\r\n\r\nconst BurgerConstructor: React.FC<BurgerConstructorProps> = ({\r\n  ingredients,\r\n  setIngredients,\r\n  bun,\r\n  setBun,\r\n}) => {\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n   const dispatch: AppDispatch = useDispatch();\r\n  const orderId = useSelector((state: RootState) => state.order.orderId);\r\n  const orderLoading = useSelector((state: RootState) => state.order.loading);\r\n  const orderError = useSelector((state: RootState) => state.order.error);\r\n\r\n  const [{ isOver }, dropRef] = useDrop({\r\n    accept: ItemType,\r\n    drop: (item: { data: Product }) => {\r\n      if (item && item.data) {\r\n        addIngredientToConstructor(item.data);\r\n      }\r\n    },\r\n    collect: (monitor) => ({\r\n      isOver: monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  const addIngredientToConstructor = (ingredient: Product) => {\r\n    if (ingredient.type === \"bun\") {\r\n      setBun(ingredient);\r\n    } else {\r\n      setIngredients((prevIngredients) => [...prevIngredients, ingredient]);\r\n    }\r\n  };\r\n\r\n  const moveIngredient = (dragIndex: number, hoverIndex: number) => {\r\n    if (\r\n      dragIndex === undefined ||\r\n      hoverIndex === undefined ||\r\n      dragIndex === hoverIndex\r\n    )\r\n      return;\r\n\r\n    const draggedIngredient = ingredients[dragIndex];\r\n    if (!draggedIngredient) return;\r\n\r\n    const newIngredients = [...ingredients];\r\n    newIngredients.splice(dragIndex, 1);\r\n    newIngredients.splice(hoverIndex, 0, draggedIngredient);\r\n    setIngredients(newIngredients);\r\n  };\r\n\r\n  const removeIngredient = (index: number) => {\r\n    setIngredients((prevIngredients) =>\r\n      prevIngredients.filter((_, i) => i !== index)\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    let total = ingredients.reduce(\r\n      (sum, ingredient) => sum + ingredient.price,\r\n      0\r\n    );\r\n    if (bun) {\r\n      total += bun.price * 2; // Учитываем верхнюю и нижнюю булку\r\n    }\r\n    setTotalPrice(total);\r\n  }, [ingredients, bun]);\r\n\r\n  //Генератор id заказа\r\n  const generateOrderId = (): string => {\r\n    return Math.floor(1000 + Math.random() * 9000).toString();\r\n  };\r\n\r\n  //Модальное окно\r\n  const [isModalActive, setIsModalActive] = useState(false);\r\n\r\nconst handleOrderClick = () => {\r\n  if (bun && ingredients.length > 0) {\r\n    const ingredientIds = [\r\n      bun._id,\r\n      ...ingredients.map((ingredient) => ingredient._id),\r\n      bun._id,\r\n    ];\r\n    dispatch(submitOrder({ ingredients: ingredientIds }));\r\n    setIsModalActive(true);\r\n  }\r\n};\r\n  // Использование useEffect для открытия модального окна после получения orderId\r\n  useEffect(() => {\r\n    if (orderId) {\r\n      setIsModalActive(true);\r\n       console.log(\"Order ID received: \", orderId);\r\n    }\r\n  }, [orderId]);\r\n\r\n  return (\r\n    <section className={styles.constructorBox}>\r\n      <div ref={dropRef}>\r\n        <h2 className=\"text text_type_main-medium mb-5\">Ваш бургер</h2>\r\n        <div className={styles.burgerWrapper}>\r\n          {bun ? (\r\n            <ConstructorElement\r\n              type=\"top\"\r\n              isLocked={true}\r\n              text={`${bun.name} (верх)`}\r\n              price={bun.price}\r\n              thumbnail={bun.image}\r\n            />\r\n          ) : (\r\n            <ConstructorElement\r\n              type=\"top\"\r\n              isLocked={true}\r\n              text=\"Добавьте булку\"\r\n              price={0}\r\n              thumbnail=\"primary\"\r\n            />\r\n          )}\r\n          <div className={styles.middleSection}>\r\n            {ingredients.length > 0 ? (\r\n              ingredients.map((ingredient, index) => (\r\n                <DraggableIngredient\r\n                  key={index}\r\n                  ingredient={ingredient}\r\n                  index={index}\r\n                  moveIngredient={moveIngredient}\r\n                  removeIngredient={removeIngredient}\r\n                />\r\n              ))\r\n            ) : (\r\n              <ConstructorElement\r\n                text=\"Добавьте ингредиент\"\r\n                price={0}\r\n                thumbnail=\"\"\r\n                isLocked={true}\r\n              />\r\n            )}\r\n          </div>\r\n          {bun ? (\r\n            <ConstructorElement\r\n              type=\"bottom\"\r\n              isLocked={true}\r\n              text={`${bun.name} (низ)`}\r\n              price={bun.price}\r\n              thumbnail={bun.image}\r\n            />\r\n          ) : (\r\n            <ConstructorElement\r\n              type=\"bottom\"\r\n              isLocked={true}\r\n              text=\"Добавьте булку\"\r\n              price={0}\r\n              thumbnail=\"\"\r\n            />\r\n          )}\r\n        </div>\r\n        {/* {isOver && <div className={styles.overlay}>Перенести </div>}*/}\r\n\r\n        <ModalWindow active={isModalActive} setActive={setIsModalActive}>\r\n          <OrderDetails\r\n            orderId={orderId}\r\n            totalPrice={totalPrice}\r\n          ></OrderDetails>\r\n        </ModalWindow>\r\n        <div className={`ml-1 mr-1 mb-1 mt-9 ${styles.boxForButton}`}>\r\n          <div className={styles.footerOrder}>\r\n            <TotalPrice total={totalPrice} />\r\n            <Button\r\n              htmlType=\"button\"\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              extraClass=\"ml-2\"\r\n              onClick={handleOrderClick}\r\n              disabled={!bun || ingredients.length === 0 || orderLoading} // Условие для отключения кнопки\r\n            >\r\n              Оформить заказ\r\n            </Button>\r\n            {orderError && <p className={styles.error}>Ошибка: {orderError}</p>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default BurgerConstructor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}